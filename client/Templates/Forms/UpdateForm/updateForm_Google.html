<template name ="googleAuthentication">
		<div class="form-group">
			<div class="input-group">
				<span class="input-group-btn">
						<button class="btn btn-default" name="buttonGoogleAuthentication" type="button">S'authentifier sur Google</button>
				</span>
				
			</div>
		</div>
</template>

<template name = "googleCheckEmail">
	<form>		
		<div class="form-group">
			<div class="input-group">
				<span class="input-group-btn">
						<button class="btn btn-default" name="buttonCheckEmail" type="button">Trouver une adresse mail</button>
				</span>
				
			</div>

		</div>
	</form>
</template>

<template name ="googleCreateEmail">
		<div class="form-group">
			<div class="input-group">
				<input type="text" name="companyMail" class="form-control" value={{companyMail}}>
				<span class="input-group-btn">
						<button class="btn btn-default" name="buttonCreateEmail" type="button">Créer !</button>
				</span>
				
			</div>
		</div>
</template>

<template name = "listOfGoogleGroupsJoined">
	{{prenom}} a été rajouté aux groupes :
	<ul>
		{{#each groupsJoined}}
			<li>{{groupName}}</li>
		{{/each}}
	</ul>
</template>

<template name="joinGoogleGroups">
	<form>		
		<div class="form-group">
			<div class="input-group">
				<span class="input-group-btn">
						<button class="btn btn-default" name="joinGroups" type="button">Relier aux groupes de {{job}}</button>
				</span>
				
			</div>

		</div>
	</form>
	{{#if groupsHaveBeenJoined}}
		{{> listOfGoogleGroupsJoined}}
	{{/if}}
</template>


<template name = "googleApi">

	<h2>Adresse {{companyName}}</h2>
	{{#if authenticated}}
		{{#if mailFound}}
			{{> googleCreateEmail}}
		{{else}}
			{{> googleCheckEmail}}
		{{/if}}
		<p>{{requestGoogleStatus}}</p>
		{{#if mailCreated}}
			{{> joinGoogleGroups}}
		{{/if}}
	{{else}}
		{{> googleAuthentication}}
	{{/if}}

</template>